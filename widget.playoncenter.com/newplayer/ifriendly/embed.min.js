var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var c=0;return function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(a,c){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:c})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function a(b){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(b||"")+"_"+c++,b)}var c=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,c){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var b=0,d={next:function(){if(b<a.length){var e=b++;return{value:c(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};
$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};
var canReachRef=function(a){var c=!0;try{c=window[a].document}catch(b){c=!1}return c},topRef=canReachRef("top")&&window.top||canReachRef("parent")&&window.parent||window,topDocument=topRef.document,BrowserProperties=function(){function a(){return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i)}function c(){return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)}function b(){var a=!1,b=navigator.userAgent.toLowerCase();
-1!=b.indexOf("safari")&&(a=-1<b.indexOf("chrome")?!1:!0);return a}function d(){return null!=navigator.userAgent.match(/Chrome/i)}return{isMobile:a,isAndroid:function(){return navigator.userAgent.match(/Android/i)},isWebBrowserAndroid:function(){return navigator.userAgent.match(/Android/i)&&navigator.userAgent.match(/Mobile Safari/i)},isIpad:c,isIphone:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isIOS7:function(){return null!=navigator.userAgent.match(/(iPad|iPhone);.*CPU.*OS 7_\d/i)},
isChrome:d,isFlashEnabled:function(){try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){}return!1},clickEvent:navigator.userAgent.match(/iPad/i)?"touchstart":"click",thisMovie:function(a){return-1!=navigator.appName.indexOf("Microsoft")?topRef[a]:topDocument[a]},isIE11:function(){return null!=navigator.userAgent.match(/rv:11\.0/i)},isSafari:b,isAutoPlayNotAllowed:function(){return a()||b()||d()},isIOS93:function(){if(c())return 0<navigator.userAgent.split("Safari/").length?602.1>parseFloat(navigator.userAgent.split("Safari/")[1]):
!1},consoleIsOpen:function(){if("undefined"!==typeof IFRIENDLY_DATA){var a=160<parent.outerWidth-parent.innerWidth,b=160<parent.outerHeight-parent.innerHeight;if((!b||!a)&&(parent.Firebug&&parent.Firebug.chrome&&parent.Firebug.chrome.isInitialized||a||b))return!0}return!1},isFireFox:function(){return null!=navigator.userAgent.match(/Firefox/i)},getGeo:function(){console.time("time check embed geoservice in embed");fetch("https://widget.playoncenter.com/webservice/geo").then(function(a){return a.json()}).then(function(a){BrowserProperties.TAPPX_GLOBAL_PARAMS=
a;console.timeEnd("time check embed geoservice in embed")})},TAPPX_GLOBAL_PARAMS:void 0}}();var onScrollActivated=!1,blockCloseButton=!1,META_NAME_SMARTY="SmartyC_videoid",delayToShowCloseButton=4E3,isMobile=BrowserProperties.isMobile();topRef.embedRef=this;var embedRef=this;window.show_po_player_logs=!1;window.po_player_logs_queue=[];BrowserProperties.getGeo();
var IFRIENDLY_DATA=IFRIENDLY_DATA||function(){function a(){var a=IFRIENDLY_DATA.getData();a=-1<location.hostname.indexOf("localhost")?["http://localhost:8080/ifriendly/inview.min.css"]:[a.domain+"newplayer/ifriendly/inview.min.css"];"widgetpre.playoncenter.com"===topDocument.location.hostname&&(a=["https://widgetpre.playoncenter.com/newplayer/ifriendly/inview.min.css"]);a.forEach(function(a,b){b="myCss"+b;if(!topDocument.getElementById(b)){var c=topDocument.getElementsByTagName("head")[0],d=topDocument.createElement("link");
d.id=b;d.rel="stylesheet";d.type="text/css";d.href=a;d.media="all";c.appendChild(d)}})}var c={};return{init:function(b){(c=checkVideoData(b))?(a(),drawIframe(c)):console.log("[po_player] algun dato no validado en IFRIENDY_DATA")},getData:function(){return c},reloadPlayerPlayOn:function(a){topDocument.getElementById(a.idFrm)?topDocument.getElementById(a.idFrm).contentWindow.VideoController&&topDocument.getElementById(a.idFrm).contentWindow.reloadPlayerPlayOn(a):IFRIENDLY_DATA.init(a)}}}(),SMARTY_ID_DATA=
SMARTY_ID_DATA||function(){var a={};return{init:function(c){a=c;setTimeout(function(){!SM_Utils.isEmpty(SMARTY_ID_DATA.getData())&&SM_Utils.isEmpty(viewAbilities)&&(console.log("lanzo metadata script"),getMetaData())},5E3)},getData:function(){return a}}}(),SM_Utils=SM_Utils||function(){return{getIdUserFromUrl:function(a){var c=0;try{var b=a.match(/(webservice\/video*[^\/]+\/)(\d*)|(webservice\/direct*[^\/]+\/)(\d*)/);a=[];for(var d=0;d<b.length;d++)b[d]&&a.push(b[d]);Array.isArray(a)?c=a[a.length-
1]:po_console.log("[error] user id no valid.")}catch(e){po_console.log("[error] user id no valid.")}return c},isEmpty:function(a){var c=Object.prototype.hasOwnProperty;if(null==a)return!0;if(0<a.length)return!1;if(0===a.length)return!0;for(var b in a)if(c.call(a,b))return!1;return!0}}}();
function drawIframe(a){"undefined"!==typeof a.url?(a.url=a.domain+a.url,a.userId=SM_Utils.getIdUserFromUrl(a.url)):a.userId=a.affId;a.share_rrss_my_page=1;a.social_page=1;a.hideUntilAd=!0;var c=a.domain+"newplayer/ifriendly/code.min.js";"localhost"===topDocument.location.hostname&&(c="http://localhost:8080/ifriendly/code.js");"widgetpre.playoncenter.com"===topDocument.location.hostname&&(c="https://widgetpre.playoncenter.com/newplayer/ifriendly/code.min.js");if(topDocument.getElementById(a.idFrm))var b=
topDocument.getElementById(a.idFrm);else{var d=createHeaderForAOV(a.idFrm);b=topDocument.createElement("iframe");b.id=a.idFrm;b.style.top="16px";BrowserProperties.isMobile()||(b.style.position="absolute");d.appendChild(b);topDocument.body||topDocument.documentElement.appendChild(topDocument.createElement("body"));topDocument.body.appendChild(d);d=topDocument.querySelector("#head_aov");BrowserProperties.isMobile()&&(d.style.opacity=1,d.style.height="28px")}b.setAttribute("frameborder",0);b.setAttribute("allowfullscreen",
"");b.setAttribute("webkitallowfullscreen","");b.setAttribute("mozallowfullscreen","");b.setAttribute("scrolling","no");b.scrolling="no";b.className="iframe-hidden";b=b.contentWindow?b.contentWindow:b.contentDocument.document?b.contentDocument.document:b.contentDocument;if(BrowserProperties.isFireFox()){var e=JSON.stringify(a).replace(/"/g,"'");c='<head><meta name="viewport" content="width=device-width, initial-scale=1"></head><body onload="var js = document.createElement(\'script\');js.src = \''+
c+"';js.addEventListener('load', function() { IFRIENDLY_DATA.init("+e+');});document.head.appendChild(js);"><div id="'+a.idFrm+'" style="width:100%;height:100%;position:relative"></div></body>';b.document.open();b.document.write(c)}else{var h=function(){"undefined"!==typeof topDocument.getElementById(a.idFrm).contentWindow.IFRIENDLY_DATA?topDocument.getElementById(a.idFrm).contentWindow.IFRIENDLY_DATA.init(JSON.parse(e)):setTimeout(function(){h()},100)};e=JSON.stringify(a);d=document.createElement("html");
var k=document.createElement("head"),l=document.createElement("body"),f=document.createElement("meta");f.setAttribute("name","viewport");f.setAttribute("content","width=device-width, initial-scale=1");k.appendChild(f);f=document.createElement("div");f.id=a.idFrm;f.style.width="100%";f.style.height="100%";f.style.position="relative";l.appendChild(f);d.innerHTML=k.outerHTML+l.outerHTML;b.document.open();b.document.appendChild(d);h();d=topDocument.createElement("script");d.src=c;d.type="text/javascript";
d.setAttribute("async",!0);topDocument.getElementById(a.idFrm).contentWindow.document.head.appendChild(d)}b.document.close()}
function checkVideoData(a){if(!a.idFrm.match(/\w+_\d+/))return po_console.log("idFrm no v\u00e1lido "+a.idFrm),!1;if("undefined"===typeof a.url&&"undefined"===typeof a.type||"undefined"!==typeof a.url&&a.url&&!a.url.match(/^webservice\/(video|direct)*[^\/]+\//)||"undefined"!==typeof a.type&&-1==="video tag kw random youtube directYoutube vimeo external".split(" ").indexOf(a.type))return!1;""!=a.twitter&&a.twitter.match(/(@\w+|#\w+)/)||(a.twitter="");if(!a.domain.match(/^(http(s)?:)?\/\/.+\//))return po_console.log("domain no v\u00e1lido "+
a.domain),!1;isNaN(a.volume)&&(a.volume=100);isNaN(a.autoplay)&&(a.autoplay=0);isNaN(a.hasVideoRelated)&&(a.hasVideoRelated=0);isNaN(a.social_page)&&(a.hasVidsocial_pageeoRelated=0);isNaN(a.share_rrss)&&(a.share_rrss=0);isNaN(a.playerType)&&(a.playerType=0);return a}
function createHeaderForAOV(a){a=topDocument.createElement("div");a.id="po_aov_container";a.style.opacity=0;var c=isMobile?"19":"15";a.innerHTML='<div id="head_head_aov" class="sm_head_head_aov"><div id="head_aov" class="sm_head_aov_drag"><div id="sm_close_aov" class="sm_close_aov_hide" class="close_po_aov"><div class="button_aov"><p class="btnText">Close</p><div class="btnTwo"><p class="btnText2">X</p></div></div></div><div class="inview-videowall-text"></div><div class="mov_icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 180 180" style="enable-background:new 0 0 180 180;" xml:space="preserve" width="'+c+
'" height="'+c+'"> <path d="M38.937,128.936L0,89.999l38.935-38.936l0.001,29.982h42.11V38.937l-29.982,0L90.001,0l38.935,38.936l-29.982,0v42.109  h42.109l-0.001-29.982L180,90.001l-38.936,38.935l-0.001-29.982h-42.11v42.109l29.982,0L89.999,180l-38.936-38.936l29.982,0V98.954  H38.937L38.937,128.936z" fill="#14b395"></path></svg></div></div></div>';return a}
function activateInviewByIdFrame(a,c){var b=parseInt(c.inview_position,10),d=c.inview_prefold;sm_debug_obj.debug("activateInviewByIdFrame. Inicio... idIframe:"+a+" position:"+parseInt(b,10)+" prefold:"+d);viewAbilities[a]=viewAbility(a,c);isAlwaysAOV(a)?(b=b?b:3,d=!0,showAlwaysAOVPlayer(viewAbility(a,c))):(b=b?b:0,checkIfIFramesAreInFold());!onScrollActivated&&0<Object.keys(viewAbilities).filter(function(a){return!isAlwaysAOV(a)}).length&&(onScrollActivated=!0,topRef.onscroll=function(a){checkIfIFramesAreInFold()})}
function sm_detectIfAdblockIsActive(){}function sm_loadScript_adblock(a,c){var b=topDocument.createElement("script");b.type="text/javascript";b.readyState?b.onreadystatechange=function(){if("loaded"==b.readyState||"complete"==b.readyState)b.onreadystatechange=null,c()}:b.onload=function(){c()};b.src=a;topDocument.getElementsByTagName("head")[0].appendChild(b)}
function getMetaData(){var a=validateIdVideoData(getVideoDataFromMetaTag());var c=7;a||(a=validateIdVideoData(getVideoDataFromScript()),c=8);if(a){switch(a.typeEmbed){case "yt":var b="directYoutube";var d="?ap=1&erv=0&json=1";break;case "vm":b="directVimeo";d="?ap=1&erv=0&json=1";break;default:b="videoRandom"!==a.idVideo?"video":"videoRandom",d="/600/338/1/last/0/0"+("videoRandom"===b?"/"+(a.limit||25):"")}po_console.log(a.vol);IFRIENDLY_DATA.init(Object.assign({},a,{idFrm:a.idVideo+"_00000000",url:"webservice/"+
b+"/"+a.idPublisher+("videoRandom"!==a.idVideo?"/"+a.idVideo:"")+d,twitter:a.twitterSearch||"",volume:null==a.vol?50:a.vol,limit:a.limit||25,autoplay:a.autoplay||0,social_page:0,share_rrss:0,playerType:c,domain:"//widget.playoncenter.com/"}))}}topRef.onload=function(){setTimeout(function(){SM_Utils.isEmpty(SMARTY_ID_DATA.getData())&&getVideoDataFromMetaTag()&&SM_Utils.isEmpty(viewAbilities)&&getMetaData()},5E3)};
function getVideoDataFromMetaTag(){for(var a="",c=topDocument.getElementsByTagName("meta"),b=0;b<c.length;b++)if(c[b].getAttribute("name")==META_NAME_SMARTY){a=c[b].getAttribute("content");break}po_console.log("valor original del meta "+a);b=/^tw([@|#](\w+( +\w+)*))[-(yt|vm|sm|rd)_]/;var d=a.replace(b,"");po_console.log("valor despues del reemplazo "+d);return d&&(c={},d=d.split("-"),2<d.length)?(c.idVideo=d.slice(0,d.length-2).join("-")||"",c.autoplay=parseInt(d[d.length-2],10)||0,c.vol=d[d.length-
1]||50,c.limit=25,3<d.length&&(c.idVideo=d.slice(0,d.length-3).join("-")||"",c.autoplay=parseInt(d[d.length-3],10)||0,c.vol=d[d.length-2]||50,c.limit=d[d.length-1]||25),a=a.match(b),Array.isArray(a)&&(po_console.log("twitter data "+a[1]),c.twitterSearch=a[1]),c):""}function hasViewportMetaTag(){for(var a="",c=topDocument.getElementsByTagName("meta"),b=0;b<c.length;b++)if("viewport"==c[b].getAttribute("name")){a=c[b].getAttribute("content");break}return a?!0:!1}
function getVideoDataFromScript(){if(SM_Utils.isEmpty(SMARTY_ID_DATA.getData()))return sm_debug_obj.debug("[Embed] NO hay datos para AlwaysAOV desde el script de la p\u00e1gina"),"";sm_debug_obj.debug("[Embed] tenemos datos para AlwaysAOV desde la p\u00e1gina. Hay que buscar el id");return SMARTY_ID_DATA.getData().idVideo?SMARTY_ID_DATA.getData():""}
function validateIdVideoData(a){if(!a)return null;var c=a.idVideo.match(/^(rd)_(\d*$)/),b=a.idVideo.match(/^(sm|yt|vm)_(\d*)_(\S*$)/);return c&&3===c.length?(a.typeEmbed=c[1],a.idPublisher=c[2],a.idVideo="videoRandom",a):b&&4===b.length?(a.typeEmbed=b[1],a.idPublisher=b[2],a.idVideo=b[3],a):null}function isAlwaysAOV(a){return 0<a.indexOf("_00000000")?!0:!1}
function showAlwaysAOVPlayer(a){sm_debug_obj.debug("showAlwaysAOVPlayer "+a.idFrame);alwaysView=a;var c=BrowserProperties.isMobile()&&hasViewportMetaTag()?a.pos_inview[a.pos_sel]+"_mobile":a.pos_inview[a.pos_sel],b=getSizePlayerInview(2>=a.pos_sel,a.margin_top_bottom,a.meta_width_mobile);BrowserProperties.isMobile()&&hasViewportMetaTag()?(c="inview_mobile",b.height+=40,setSizeToElement(topDocument.getElementById(a.idFrame).parentElement,b),BrowserProperties.isMobile()&&window.addEventListener("resize",
function(){var b=getSizePlayerInview(2>=a.pos_sel,a.margin_top_bottom,a.meta_width_mobile);b.height+=40;setSizeToElement(topDocument.getElementById(a.idFrame).parentElement,b)})):(setSizeToElement(topDocument.getElementById(a.idFrame).parentElement,b),BrowserProperties.isMobile()&&window.addEventListener("resize",function(){var b=getSizePlayerInview(2>=a.pos_sel,a.margin_top_bottom,a.meta_width_mobile);b.height+=40;setSizeToElement(topDocument.getElementById(a.idFrame).parentElement,b)}),2>=a.pos_sel?
topDocument.getElementById(a.idFrame).parentElement.style.top=a.margin_top_bottom+"px":(topDocument.getElementById(a.idFrame).parentElement.className=c,topDocument.getElementById(a.idFrame).parentElement.style.bottom=a.margin_top_bottom+"px",topDocument.getElementById(a.idFrame).parentElement.style.top="unset",4==a.pos_sel&&(topDocument.getElementById(a.idFrame).parentElement.style.left="unset",topDocument.body.clientWidth>topDocument.getElementById(a.idFrame).clientWidth+parseInt(a.margin_top_bottom,
10)?topDocument.getElementById(a.idFrame).parentElement.style.right=a.margin_top_bottom+"px":topDocument.getElementById(a.idFrame).parentElement.style.right="0px")));topDocument.getElementById(a.idFrame).parentElement.className=c;initVideoIfAutoplay(getVideoControllerByIdFrame(a.idFrame));a.watchObserve.isAlwaysOnView||(a.watchObserve.isAlwaysOnView=!0,resizePlayer(a.idFrame));topDocument.getElementById(a.idFrame).contentWindow.PlayerConfiguration.isInFold=!0;a.watchObserve.isAlwaysOnView=!0}
var SM_MouseEvents={mousedown:isMobile?"touchstart":"mousedown",mousemove:isMobile?"touchmove":"mousemove",mouseup:isMobile?"touchend":"mouseup",mouseout:isMobile?"touchend":"mouseout",mouseover:"mouseover",click:isMobile?"touchstart":"click"};
function activateMoveEffectForPlayer(a){var c=topDocument.querySelector("#po_aov_container"),b=topDocument.querySelector("#head_aov");setTimeout(function(){showCloseButton();delayToShowCloseButton=0},delayToShowCloseButton);var d=!1,e=topRef.innerHeight-c.getBoundingClientRect().height,h=topRef.innerWidth-c.getBoundingClientRect().width,k=0,l=0;window.addEventListener("resize",function(){e=topRef.innerHeight-c.getBoundingClientRect().height;h=topRef.innerWidth-c.getBoundingClientRect().width;l=k=
0});var f=!1;c.addEventListener(SM_MouseEvents.mouseover,function(a){setTimeout(function(){showCloseButton();delayToShowCloseButton=0},delayToShowCloseButton)});topDocument.addEventListener(SM_MouseEvents.mouseup,function(a){d=!1});b.addEventListener(SM_MouseEvents.mousedown,function(g){function n(a,b){a-=r;b-=t;a>l&&a<h&&b>k&&b<e?(c.style.left=a+"px",c.style.top=b+"px",outOfRange=!1):outOfRange=!0}function p(a){d=!1;topDocument.removeEventListener(SM_MouseEvents.mousemove,q);b.onmouseup=null;sm_drag_to_drop.end(a.clientX||
a.changedTouches[0].clientX)&&BrowserProperties.isMobile()&&removeContainer()}function q(a){d&&n(a.clientX?a.clientX:a.touches[0].clientX,a.clientY?a.clientY:a.touches[0].clientY)}g.preventDefault();sm_drag_to_drop.start();d=!0;var m=g.clientX?g.clientX:g.touches[0].clientX;g=g.clientY?g.clientY:g.touches[0].clientY;sm_drag_to_drop.start(m);var r=m-this.getBoundingClientRect().left,t=g-this.getBoundingClientRect().top;n(m,g);topDocument.addEventListener(SM_MouseEvents.mousemove,q);f||(b.addEventListener(SM_MouseEvents.mouseup,
p),topDocument.getElementById(a).contentWindow.addEventListener(SM_MouseEvents.mouseover,p),f=!0)},!1);topDocument.querySelector(".button_aov").addEventListener(SM_MouseEvents.click,function(a){a.preventDefault();removeContainer()},!0)}function removeContainer(){topDocument.querySelector("#po_aov_container").style.display="none";setTimeout(function(){topDocument.querySelector("#po_aov_container").innerHTML=""},2E3)}
function hideContainer(){topDocument.querySelector("#po_aov_container").style.display="none"}function checkAOVContainer(a){return topDocument.getElementById(a)&&topDocument.getElementById(a).parentElement&&"po_aov_container"===topDocument.getElementById(a).parentElement.id}
function playerAOVToggle(a,c,b){po_console.log("playerAOVToggle");po_console.log(a);checkAOVContainer(a)?(b=topDocument.getElementById(a).parentElement,c?(b.style.opacity=1,topDocument.querySelector("#po_aov_container").style.display="block","iframe-hidden"===topDocument.getElementById(a).className&&(topDocument.getElementById(a).className="iframe-visible"),embedRef.activateMoveEffectForPlayer(a)):embedRef.hideContainer()):b?(po_console.log("NO muestro player, porque tiene activado hidePlayerWithPrefetch"),
a=document.getElementById(a),a.parentNode.removeChild(a)):showPlayer(a)}function showPlayer(a){"iframe-hidden"===document.getElementById(a).className&&(document.getElementById(a).className="iframe-visible",po_console.log("muestro player, porque no tiene activado hidePlayerWithPrefetch"))}function showCloseButton(){blockCloseButton||topDocument.getElementById("sm_close_aov").classList.add("sm_close_aov_show");topDocument.getElementById("sm_close_aov").classList.remove("sm_close_aov_hide")}
function hideCloseButton(){topDocument.getElementById("sm_close_aov").classList.add("sm_close_aov_hide");topDocument.getElementById("sm_close_aov").classList.remove("sm_close_aov_show")}function insertYoutubeEmbed(a,c){po_console.log("insertYoutubeEmbed");po_console.log("idPlayer "+a);po_console.log(topDocument.getElementById(a));topDocument.getElementById(a).parentElement.innerHTML=c}
var sm_drag_to_drop=function(){function a(){c++}var c=0,b=0,d=0;return{start:function(d){c=0;b=d;count_interval=setInterval(a,1)},end:function(a){d=a;clearInterval(count_interval);return 500>c&&400<d-b},count:function(){return c}}}(),po_console=function(){return{log:function(a){window.show_po_player_logs?(0<window.po_player_logs_queue.length&&(window.po_player_logs_queue.forEach(function(a){return console.log("[po_player] ",a)}),window.po_player_logs_queue=[]),console.log("[po_player] ",a)):(100<
window.po_player_logs_queue.length&&(window.po_player_logs_queue=[],window.po_player_logs_queue.push("Mas de 100 mensajes, reseteo")),window.po_player_logs_queue.push(a))}}}();function postMessageHandler(a){var c={};try{c="string"===typeof a.data?JSON.parse(a.data):a.data,"log"==c.command&&(c.isobject?po_console.log(JSON.parse(c.parameter)):po_console.log(c.parameter))}catch(b){}}window.addEventListener("message",postMessageHandler,!1);
window.show_logs_po=function(){window.show_po_player_logs=!0;po_console.log("show logs")};var DEBUG_SM_VIEWABILITY=!1,viewAbilities=viewAbilities||{},alwaysView=alwaysView||{},oldOrientation,isPortrait,numViewabilities=0,oldViewabilities=0,metadataLoaded=!1,viewAbility=function(a,c){var b=parseInt(c.inview_position,10),d={isAlwaysOnView:!1,activateInView:parseInt(c.inview_prefold,10)};topDocument.getElementById(a).contentWindow.PlayerConfiguration.isInFold=0==parseInt(c.inview_prefold,10)?!1:!0;sm_debug_obj.debug("viewAbility "+a);var e=!isAlwaysAOV(a)&&0===parseInt(c.inview_activate,
10);po_console.log("[Inview] es un player normal "+e);var h=e;e&&(b=0);var k=0==parseInt(c.inview_prefold,10)?!1:!0;e=c.inview_margin_top_bottom||10;c=BrowserProperties.isMobile()?c.meta_width_mobile||150:c.meta_width_desktop||324;activatePlayerEvents(a);return{desactivateAOV:function(a){topDocument.getElementById(a).className="";removeInviewStyles(topDocument.getElementById(a));h=!0;isAlwaysAOV(a)&&(sm_debug_obj.debug("desactivateAOV elimino player"),topDocument.getElementById(a).parentElement.innerHTML=
"")},isPlayerInFold:function(){return k},pos_inview:["","inview-top-left","inview-top-right","inview-bottom-left","inview-bottom-right"],pos_sel:b,pos_selected:0,watchObserve:d,idFrame:a,isOffAOV:function(){return h},playerInFold:k,margin_top_bottom:e,meta_width_mobile:c}};
function checkIfIFramesAreInFold(){var a=!0;Object.keys(viewAbilities).filter(function(a){return!isAlwaysAOV(a)}).forEach(function(c){var b=viewAbilities[c];b.visible=!0;if(0!==b.pos_sel)if(!b.isOffAOV()&&a)if(a=!1,0==b.pos_selected&&(b.pos_selected=b.pos_sel<b.pos_inview.length&&-1<b.pos_sel?b.pos_sel:-1),c=topDocument.getElementById(b.idFrame).parentElement,c.style.minHeight=topDocument.getElementById(b.idFrame).getAttribute("height"),elementInViewport(c)&&!b.inPosition)b.inPosition=!0,b.floating=
!1,sm_debug_obj.debug("elemento a la vista "+b.idFrame),b.watchObserve.activateInView=-1===b.pos_selected?!1:!0,"iframe-hidden"!==topDocument.getElementById(b.idFrame).className&&""!==topDocument.getElementById(b.idFrame).className&&(topDocument.getElementById(b.idFrame).className=""),sm_debug_obj.debug("borro estilos "),removeInviewStyles(topDocument.getElementById(b.idFrame)),topDocument.getElementById(b.idFrame).style.top=null,topDocument.getElementById(b.idFrame).style.bottom=null,topDocument.getElementById("po_aov_container")&&
(topDocument.getElementById("po_aov_container").className="hide"),b.watchObserve.isAlwaysOnView&&(b.watchObserve.isAlwaysOnView=!1,resizePlayer(b.idFrame)),initVideoIfAutoplay(getVideoControllerByIdFrame(b.idFrame)),topDocument.getElementById(b.idFrame).contentWindow.PlayerConfiguration.isInFold=!0,b.playerInFold||(b.playerInFold=!0,sm_debug_obj.debug("reanudo video"),loadVideoContent(b.idFrame));else{if(!elementInViewport(c)&&!b.floating){b.floating=!0;b.inPosition=!1;sm_debug_obj.debug("elemento oculto");
if(b.watchObserve.activateInView){c=BrowserProperties.isMobile()&&hasViewportMetaTag()?b.pos_inview[b.pos_selected]+"_mobile":b.pos_inview[b.pos_selected];c="inview_mobile";var d=getSizePlayerInview(2>=b.pos_sel,b.margin_top_bottom,b.meta_width_mobile);setSizeToElement(topDocument.getElementById(b.idFrame),d);setTimeout(function(){if(b.floating){var a=getSizePlayerInview(2>=b.pos_sel,b.margin_top_bottom,b.meta_width_mobile);setSizeToElement(topDocument.getElementById(b.idFrame),a)}},50);BrowserProperties.isMobile()&&
window.addEventListener("resize",function(){var a=getSizePlayerInview(2>=b.pos_sel,b.margin_top_bottom,b.meta_width_mobile);setSizeToElement(topDocument.getElementById(b.idFrame),a)});"iframe-hidden"!==topDocument.getElementById(b.idFrame).className&&(topDocument.getElementById(b.idFrame).className=c);2>=b.pos_sel?topDocument.getElementById(b.idFrame).style.top=b.margin_top_bottom+"px":(topDocument.getElementById(b.idFrame).style.bottom=b.margin_top_bottom+"px",topDocument.getElementById(b.idFrame).style.top=
"unset",4==b.pos_sel&&(topDocument.getElementById(b.idFrame).style.left="unset",topDocument.body.clientWidth>topDocument.getElementById(b.idFrame).clientWidth+parseInt(b.margin_top_bottom,10)?topDocument.getElementById(b.idFrame).style.right=b.margin_top_bottom+"px":topDocument.getElementById(b.idFrame).style.right="0px"));topDocument.getElementById("po_aov_container")&&(topDocument.getElementById("po_aov_container").className=c,2>=b.pos_sel?topDocument.getElementById("po_aov_container").style.top=
b.margin_top_bottom+"px":(topDocument.getElementById("po_aov_container").style.bottom=b.margin_top_bottom+"px",topDocument.getElementById("po_aov_container").style.top="unset",4==b.pos_sel&&(topDocument.getElementById(b.idFrame).style.left="unset",topDocument.body.clientWidth>topDocument.getElementById(b.idFrame).clientWidth+parseInt(b.margin_top_bottom,10)?topDocument.getElementById(b.idFrame).style.right=b.margin_top_bottom+"px":topDocument.getElementById(b.idFrame).style.right="0px")));initVideoIfAutoplay(getVideoControllerByIdFrame(b.idFrame))}!b.watchObserve.isAlwaysOnView&&
b.watchObserve.activateInView&&(b.watchObserve.isAlwaysOnView=!0,topDocument.getElementById(b.idFrame).contentWindow.PlayerConfiguration.isInFold=!0,resizePlayer(b.idFrame))}}else b.desactivateAOV(b.idFrame);else c=topDocument.getElementById(b.idFrame).parentElement,d=b.idFrame,elementInViewport(c)||isIframe()?(sm_debug_obj.debug("elemento a la vista "+d),b.playerInFold||(sm_debug_obj.debug("----PLAYER IN FOLD-----"),b.playerInFold=!0,topDocument.getElementById(b.idFrame).contentWindow.PlayerConfiguration.isInFold=
b.playerInFold,loadVideoContent(d))):b.playerInFold&&(sm_debug_obj.debug("elemento oculto "+d),b.playerInFold=!1,sm_debug_obj.debug("Es fancy-box el padre"+("fancybox-inner"===topDocument.getElementById(b.idFrame).parentElement.className)),b.playerInFold="fancybox-inner"===topDocument.getElementById(b.idFrame).parentElement.className||topDocument.getElementById(b.idFrame).closest("div[class*=modal-]")||b.playerInFold,sm_debug_obj.debug("item.playerInFold "+b.playerInFold),(topDocument.getElementById(b.idFrame).contentWindow.PlayerConfiguration.isInFold=
b.playerInFold)||pauseVideoContent(d))})}
function resizePlayer(a){setTimeout(function(){topDocument.getElementById(a).contentWindow.videoController.resizeComponents();try{"head_head_aov"===topDocument.getElementById(a).parentNode.firstChild.id?topDocument.getElementById(a).contentWindow.videoController.hideButtonCloseAOV():0==topDocument.getElementById(a).contentWindow.videoController.config.playerType?""!==topDocument.getElementById(a).className?setTimeout(function(){""!==topDocument.getElementById(a).className&&topDocument.getElementById(a).contentWindow.videoController.showButtonCloseAOV()},
topDocument.getElementById(a).contentWindow.VTRPerformance.delayClose):topDocument.getElementById(a).contentWindow.videoController.hideButtonCloseAOV():""!==topDocument.getElementById(a).className?topDocument.getElementById(a).contentWindow.videoController.showButtonCloseAOV():topDocument.getElementById(a).contentWindow.videoController.hideButtonCloseAOV()}catch(c){po_console.log("error en la function resizePlayer")}},30)}
function loadVideoContent(a){sm_debug_obj.debug("[inview] loadVideoContentInFold.init");a=getVideoControllerByIdFrame(a);initVideoIfAutoplay(a)||(sm_debug_obj.debug("[inview] activate videoContent infold"),a.loadVideoContentInFold())}function initVideoIfAutoplay(a){if(!a.config.autoPlay||""!==a.statePlayer&&"AD_LOADED"!==a.statePlayer)return!1;a.initPlay();sm_debug_obj.debug("[inview] video is autoplay and init in fold");return!0}
function getVideoControllerByIdFrame(a){return topDocument.getElementById(a).contentWindow.videoController}function pauseVideoContent(a){sm_debug_obj.debug("[inview] pauseVideoInFold.init");topDocument.getElementById(a).contentWindow.videoController.pauseVideoInFold()}function elementInViewport(a){for(var c=a.offsetTop,b=a.offsetHeight/2;a.offsetParent;)a=a.offsetParent,c+=a.offsetTop;return c+b>topRef.pageYOffset&&c+b<topRef.pageYOffset+topRef.innerHeight}
function getSizePlayerInview(a,c,b){var d={width:420,height:237,top:"auto",bottom:"auto"},e=topRef.document.documentElement.clientWidth;isPortrait=topRef.innerHeight>e;d.width=0!=b?b<e?parseInt(b,10):e-4:isPortrait?d.width<e?d.width:e-4:450<=e?450:e-4;po_console.log("topRef.innerHeight "+topRef.innerHeight);d.height=9*d.width/16+2;a?d.top=isPortrait?c+"px":"2px":d.bottom=isPortrait?c+"px":"2px";return d}
function setSizeToElement(a,c){a.style.width=c.width+"px";a.style.height=c.height+21+"px";oldOrientation!=isPortrait&&(po_console.log("CAMBIO ORIENTACI\u00d3N DISPOSITIVO, MODIFICO TOP Y BOTTOM VALUES"),po_console.log(c),oldOrientation=isPortrait,a.style.top=c.top,a.style.bottom=c.bottom)}function removeInviewStyles(a){a.style&&(a.style.removeProperty("width"),a.style.removeProperty("height"),a.style.removeProperty("top"),a.style.removeProperty("bottom"),a.style.removeProperty("left"))}
function isIframe(){return window.location!==window.parent.location}function activatePlayerEvents(a){topDocument.getElementById(a).contentWindow.videoController.getEvent().subscribe(function(c,b){switch(b.message[0]){case "all_ads_end":!isAlwaysAOV(a)&&SM_Utils.isEmpty(SMARTY_ID_DATA.getData())&&getVideoDataFromMetaTag()&&!metadataLoaded&&(metadataLoaded=!0,getMetaData())}})}
var sm_debug_obj=sm_debug_obj||function(){return{debug:function(a){DEBUG_SM_VIEWABILITY&&("object"!==typeof a?po_console.log("[Viewability] "+a):po_console.log(a))}}}();sm_debug_obj.debug();
